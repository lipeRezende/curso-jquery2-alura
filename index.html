<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/carrinho.css">
</head>
<body>
	<div class="carrinho">
		<h2>Carrinho entrega em Sao Paulo</h2>
		<table>
			<thead>
				<tr>
					<td></td>
					<td>Nome</td>
					<td>Quantidade</td>
					<td>Valor</td>
					<td>Total</td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><img src="img/tablet.jpg"></td>
					<td>Tablet miPad 18</td>
					<td>1</td>
					<td>499.99</td>
					<td class="item-total">499.99</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/telefone.png"></td>
					<td>Telefone miPhone 18</td>
					<td>2</td>
					<td>199.99</td>
					<td class="item-total">399.98</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/sapato.jpg"></td>
					<td>Sapato</td>
					<td>1</td>
					<td>99.99</td>
					<td class="item-total">99.99</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/monitor.jpg"></td>
					<td>Monitor Sam 21</td>
					<td>1</td>
					<td>299.00</td>
					<td class="item-total">299.00</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/teclado.jpg"></td>
					<td>Teclado com fio preto </td>
					<td>1</td>
					<td>100.00</td>
					<td class="item-total">100.00</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/mouse.jpg"></td>
					<td>Mouse wireless</td>
					<td>1</td>
					<td>199.00</td>
					<td class="item-total">199.00</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
				<tr>
					<td><img src="img/camiseta.jpg"></td>
					<td>Camiseta G</td>
					<td>1</td>
					<td>25.00</td>
					<td class="item-total" >25.00</td>
					<td><a href="" class="remove-item">(Remover)</a></td>
				</tr>
			</tbody>
		</table>
		<div>
        	Valor total: R$ <span id="valor-total">0</span>
        	<br/>
	        Quantidade de itens distintos: <span id="quantidade-de-itens">0</span>
    	</div>
	
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript">
		var removeItem = function(event) {
			event.preventDefault();

			var self = $(this); 
    		self.closest('tr').remove();

			var quantidadeAtual = $('#quantidade-de-itens').text();
			var novaQuantidade = parseInt(quantidadeAtual)-1;
			$('#quantidade-de-itens').text(novaQuantidade);
		};

		function calculaCarrinho () {
			var itens = $(".item-total");
			var total =0,valor =0;
			$.each(itens, function(i,item) {
				valor = parseFloat($(item).text());
				total += valor;
			});
			$('#valor-total').text(total);
			$('#quantidade-de-itens').text(itens.length);
		};

		$(calculaCarrinho);
		$(".remove-item").click(removeItem);
		
	</script>
</body>
</html>